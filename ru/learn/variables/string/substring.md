> [!ПРИМЕЧАНИЕ]
> Прочитайте этот учебник на веб-сайте: https://diveintopython.org/learn/variables/string/substring

Подстрока - это последовательность символов, которая является частью более крупной строки. Это непрерывная последовательность символов в строке, которую можно извлечь или манипулировать независимо.

Например, в строке "Привет, Мир!", подстроки "Привет", "Мир" и "!" являются подстроками исходной строки.

Давайте рассмотрим наиболее общие операции и методы, связанные с подстроками.

## Срез строки

Срез строки - это процесс создания новой подстроки из существующей строки в Python. Вы можете срезать строку, используя синтаксис `[start:end]`, чтобы извлечь часть строки, которая начинается с индекса `start` и заканчивается на индексе `end` (не включительно). Вот несколько примеров:

```python
my_string = "Hello, world!"

# Get the substring from index 0 to index 4 (not inclusive)
print(my_string[0:4])  # Output: "Hell"

# Get the substring from index 7 to the end of the string
print(my_string[7:])  # Output: "world!"

# Get the substring from index 2 to index 8 (not inclusive) with a step of 2
print(my_string[2:8:2])  # Output: "lo,"

# Get the substring from index 2 to the second-to-last character
print(my_string[2:-1])  # Output: "llo, world"
```

В первом примере мы используем срез для извлечения подстроки `"Hell"` из переменной `my_string`, указывая начальный индекс `0` и конечный индекс `4` (не включая).

Во втором примере мы используем срез для извлечения подстроки `"world!"` из переменной `my_string`, указывая только начальный индекс `7` и оставляя конечный индекс пустым. Это указывает Python извлечь подстроку от начального индекса до конца строки.

В третьем примере мы используем срез для извлечения каждого второго символа из подстроки `"lo, "`. Мы делаем это, указывая начальный индекс `2`, конечный индекс `8` (не включая) и шаг `2`.

В четвертом примере мы используем срез для извлечения подстроки `"llo, world"` из переменной `my_string`, указывая начальный индекс `2` и конечный индекс `-1`. `-1` указывает на предпоследний символ в строке как на конечный индекс.

Для разделения строки по разделителю вы также можете использовать метод `split()`. Этот метод принимает один аргумент, который является символом или строкой-разделителем, который вы хотите использовать для разделения строки. Вот пример:

```python
my_string = "Hello,world"
my_list = my_string.split(",")
print(my_list) # Output: ['Hello', 'world']

You can remove the first character from a string in Python using string slicing. Here's an example:

```python
string = "hello"
new_string = string[1:]
print(new_string) # Output: ello
```

Срез строки также можно использовать для удаления последнего символа из строки. Вот пример:

```python
my_string = "Hello World!"
new_string = my_string[:-1]
print(new_string)  # Output: "Hello World"
```

## Подстрока строки

Чтобы проверить, содержит ли строка Python определенную подстроку, вы можете использовать ключевое слово `in` или метод `find()`.

Вот пример использования ключевого слова in:

```python
my_string = "Hello, world!"
if "world" in my_string:
    print("Substring found!")
else:
    print("Substring not found.")
# Output: Substring found!
```

Вот пример использования метода `find()`:

```python
my_string = "Hello, world!"
if my_string.find("world") != -1:
    print("Substring found!")
else:
    print("Substring not found.")
# Output: Substring found!
```

В обоих примерах мы проверяем, присутствует ли подстрока `"world"` в строке `my_string`. Если подстрока найдена, мы выводим `"Подстрока найдена!"`, в противном случае мы выводим `"Подстрока не найдена."`.

## Переворот строки

Существует несколько способов перевернуть строку в Python.

Давайте посмотрим, как перевернуть строку в python на примерах::

- Использование срезов:

```python
string = "hello"
reversed_string = string[::-1]
print(reversed_string)  # Output: "olleh"
```

- Используя цикл:

```python
string = "hello"
reversed_string = ""
for char in string:
    reversed_string = char + reversed_string
print(reversed_string)  # Output: "olleh"
```

- Использование функции reversed():

```python
string = "hello"
reversed_string = "".join(reversed(string))
print(reversed_string)  # Output: "olleh"
```

Все эти методы дадут один и тот же результат, который является инвертированной версией исходной строки.

## Методы `startswith()` и `endswith()`

В Python `startswith()` и `endswith()` - это два метода строки, которые используются для проверки, начинается ли строка с определенного префикса или заканчивается определенным суффиксом, соответственно. Вот обзор этих методов:

Метод `startswith()` используется для проверки, начинается ли строка с определенного префикса. Метод принимает один или несколько префиксов в качестве аргумента и возвращает `True`, если строка начинается с любого из них, и `False` в противном случае. Вот синтаксис метода `startswith()`:

```python
string.startswith(prefix, start=0, end=len(string))
```

где:

- `prefix` - это префикс для проверки.
- `start` - это необязательный параметр, который указывает начальный индекс строки для поиска. По умолчанию `start` установлен в 0, что означает поиск по всей строке.
- `end` - это необязательный параметр, который указывает конечный индекс строки для поиска. По умолчанию `end` установлен равным длине строки.

Вот пример использования метода startswith():

```python
s = "Python is a great programming language"
print(s.startswith("Python"))  # True
print(s.startswith("Java"))    # False
print(s.startswith(("Java", "Python")))  # True (checking multiple prefixes)
```

`Метод endswith()` используется для проверки того, заканчивается ли строка определенным суффиксом. Метод принимает один или несколько суффиксов в качестве аргумента и возвращает `True`, если строка заканчивается любым из них, и `False` в противном случае. Вот синтаксис метода `endswith()`:

```python
string.endswith(suffix, start=0, end=len(string))
```

где:

- `suffix` — это суффикс для проверки.
- параметры `start` и `end` имеют то же значение, что и в методе `startswith()`.

Вот пример использования метода endswith():

```python
s = "Python is a great programming language"
print(s.endswith("language"))  # True
print(s.endswith("Python"))    # False
print(s.endswith(("Python", "language")))  # True (checking multiple suffixes)
```

В обоих методах вы можете передать кортеж префиксов или суффиксов, чтобы проверить несколько возможностей. Параметры `start` и `end` являются необязательными и могут быть использованы для поиска только части строки.

## Метод `split()`

Это также встроенный метод в Python, который используется для разделения и анализа строки на список подстрок на основе указанного разделителя. По умолчанию в качестве разделителя используется пробел.

Вот пример:

```python
s = "Hello World! How are you?"

words = s.split()

print(words)   # Output: ['Hello', 'World!', 'How', 'are', 'you?']
```

В приведенном выше примере метод `split()` вызывается для строки `s`, которая содержит слова, разделенные пробелами. Полученный список words содержит все слова из исходной строки как отдельные элементы.

Вы также можете указать другой разделитель, используя метод `split()`. Например:

```python
s = "mango,pineapple,banana"

fruits = s.split(",")

print(fruits)   # Output: ['mango', 'pineapple', 'banana']
```

В этом примере метод `split()` вызывается для строки `s`, содержащей имена фруктов, разделенные запятыми. Полученный список fruits содержит все имена фруктов как отдельные элементы, где запятая используется в качестве разделителя.

## Функция `string.find()`

Это встроенная функция Python, которая возвращает индекс первого вхождения подстроки в данной строке. Если подстрока не найдена, она возвращает `-1`. Синтаксис использования `string.find()` следующий:

```python
string.find(substring, start=0, end=len(string))
```

где `string` - это строка для поиска, `substring` - это строка, которую нужно найти, `start` - это начальный индекс поиска (по умолчанию равен 0), а `end` - это конечный индекс поиска (по умолчанию равен длине строки).

Вот пример:

```python
sentence = "The quick brown fox jumps over the lazy dog"
print(sentence.find("fox"))   # Output: 16
print(sentence.find("cat"))   # Output: -1
```

В первой строке мы определяем строку предложения. Затем мы используем функцию `find()` для поиска подстроки `"fox"` в строке `sentence`. Поскольку `"fox"` находится на индексе 16 в строке `sentence`, функция `find()` возвращает `16`. Во второй строке мы ищем подстроку `"cat"`, которая не найдена в строке `sentence`, поэтому функция `find()` возвращает `-1`.

## Метод `replace()`

В Python строки неизменяемы, что означает, что вы не можете изменить строку после ее создания. Однако, вы можете создать новую строку, которая содержит измененную версию исходной строки.

Чтобы удалить определенный символ или подстроку из строки в Python, вы можете использовать метод `replace()` или срез строки.

Вот пример использования метода replace() для удаления определенного символа:

```python
my_string = "Hello, World!"
new_string = my_string.replace("o", "")
print(new_string) # Output: Hell, Wrld!
```

Здесь мы заменили символ `"o"` на пустую строку, тем самым удалив его из исходной строки.

## Усечение строки

Вы можете усечь строку, указав максимальную длину строки, которую хотите сохранить.

Вот пример:

```python
text = "This is a long text that needs to be truncated."
max_length = 20
truncated_text = text[:max_length] + "..." if len(text) > max_length else text
print(truncated_text) # Output: This is a long text...
```

В этом примере мы сначала определяем строку `text`, которую хотим обрезать. Также мы указываем максимальную длину обрезанной строки с помощью переменной `max_length`.

Затем мы используем срез, чтобы получить первые `max_length` символов строки. Если длина исходной строки больше `max_length`, мы добавляем многоточие в конец обрезанной строки с помощью строковой конкатенации. Если длина исходной строки меньше или равна `max_length`, мы просто присваиваем исходную строку переменной `truncated_text`.

В конце мы печатаем обрезанную строку с помощью функции `print()`.

## Метод `count()`

Вы можете использовать встроенный метод `count`, чтобы подсчитать количество вхождений подстроки в строке.

Вот счётчик подстроки `"is"`:

```python
string = "Hello, world! This is a sample string."
substring = "is"

count = string.count(substring)

print(count) # Output: 2
```

В этом примере у нас есть строка `"Hello, world! This is a sample string."` и мы хотим посчитать количество вхождений подстроки `"is"`. Мы используем метод count для подсчета количества раз, которое подстрока появляется в строке.

Вывод этой программы будет `2`, потому что подстрока `"is"` появляется в строке дважды.
