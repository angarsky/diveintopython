> [!NOTE]
> Вы можете прочитать эту статью на сайте: https://diveintopython.org/ru/learn/variables/set

Множество в Python — это структура данных, которая позволяет работать с коллекциями уникальных элементов. Множества полезны для задач, таких как удаление дубликатов из списка, проверка принадлежности элемента, а также выполнение операций с множествами, таких как объединение и пересечение. В Python множества являются изменяемыми и итерируемыми, что делает их универсальными и удобными в работе. Давайте рассмотрим основы множеств в Python, а также основные методы множеств, чтобы помочь вам наилучшим образом использовать эту структуру данных в ваших программных проектах.

## Что такое Множество?

Множество — это коллекция уникальных элементов, очень похожая на математическое множество. Множество является неупорядоченной и изменяемой коллекцией различных элементов, заключенных в фигурные скобки {}. Множества могут содержать любые хешируемые элементы, такие как целые числа, числа с плавающей точкой, строки и даже другие множества.

Например, вы можете создать множество целых чисел следующим образом:

```python
my_set = {1, 2, 3, 4, 5}
```

Или вы можете создать множество строк следующим образом:

```python
my_set = {'apple', 'banana', 'orange', 'grape'}
```

Вы можете выполнять различные операции с множествами, такие как добавление или удаление элементов, нахождение пересечения или объединения множеств, или проверка принадлежности элемента к множеству.

Вы можете использовать операции и методы множеств в Python для манипуляции данными. Вот некоторые из наиболее часто используемых:

### Операции с множествами

- `union()` или `|`: Возвращает множество, содержащее все элементы из обоих множеств (или других итерируемых объектов), с удалением дубликатов.
Пример: `set1 = {1, 2, 3}; set2 = {3, 4, 5}; set3 = set1.union(set2); print(set3)` выведет `{1, 2, 3, 4, 5}`.
- `intersection()` или `&`: Возвращает множество, содержащее только элементы, общие для обоих множеств.
Пример: `set1 = {1, 2, 3}; set2 = {3, 4, 5}; set3 = set1.intersection(set2); print(set3)` выведет `{3}`.
- `difference()` или `-`: Возвращает множество, содержащее элементы, которые есть в первом множестве, но отсутствуют во втором.
Пример: `set1 = {1, 2, 3}; set2 = {3, 4, 5}; set3 = set1.difference(set2); print(set3)` выведет `{1, 2}`.
- `symmetric_difference()` или `^`: Возвращает множество, содержащее элементы, которые есть либо в одном из множеств, либо в другом, но не в обоих одновременно.
Пример: `set1 = {1, 2, 3}; set2 = {3, 4, 5}; set3 = set1.symmetric_difference(set2); print(set3)` выведет `{1, 2, 4, 5}`.
- `issubset()`: Возвращает True, если все элементы одного множества содержатся в другом множестве.
Пример: `set1 = {1, 2, 3}; set2 = {1, 2}; print(set2.issubset(set1))` выведет `True`.
- `issuperset()`: Возвращает True, если множество содержит все элементы другого множества.
Пример: `set1 = {1, 2, 3}; set2 = {1, 2}; print(set1.issuperset(set2))` выведет `True`.

### Методы Множества

- `add()`: Добавляет элемент в множество. Если элемент уже существует в множестве, множество остается без изменений.
Пример: `my_set = {1, 2, 3}; my_set.add(4); print(my_set)` выведет `{1, 2, 3, 4}`.
- `remove()`: Удаляет указанный элемент из множества. Вызывает KeyError, если элемента нет в множестве.
Пример: `my_set = {1, 2, 3}; my_set.remove(2); print(my_set)` выведет `{1, 3}`.
- `discard()`: Удаляет указанный элемент из множества. Не вызывает ошибку, если элемента нет в множестве.
Пример: `my_set = {1, 2, 3}; my_set.discard(2); print(my_set)` выведет `{1, 3}`.
- `pop()`: Удаляет и возвращает произвольный элемент из множества. Вызывает KeyError, если множество пусто.
Пример: `my_set = {1, 2, 3}; x = my_set.pop(); print(my_set, x)` выведет `{2, 3}, 1`.
- `clear()`: Удаляет все элементы из множества.
Пример: `my_set = {1, 2, 3}; my_set.clear(); print(my_set)` выведет `set()`.

Далее мы рассмотрим наиболее часто используемые методы более подробно.

## Создание Множеств в Python

В Python пустое множество может быть создано с использованием функции `set()`. Вот пример:

```python
empty_set = set()
```

Чтобы инициализировать множество с значениями, вы можете использовать литерал множества. Вот пример множества:

```python
my_set = {1, 2, 3}
```

Как указано выше, вы можете создать множество в Python, используя литерал множества или функцию `set()`.

## Как Добавить Элемент в Множество в Python

В Python вы можете добавить элемент в множество, используя метод `add()`. Вот пример добавления элемента в множество:

```python
my_set = {1, 2, 3}  # create a set with initial values
my_set.add(4)  # add a new value to the set
print(my_set)  # output: {1, 2, 3, 4}
```
> Примечание: объекты множества не имеют метода `append()`, поскольку они представляют собой неупорядоченные коллекции уникальных элементов.

## Удаление Элемента из Множества

В Python тип данных `set` представляет собой коллекцию уникальных элементов. Метод `remove` используется для удаления конкретного элемента из множества.

Вот пример того, как удалить элемент из множества:

```python
# create a set
my_set = {1, 2, 3, 4, 5}

# remove an element from the set
my_set.remove(3)

print(my_set) # Output: {1, 2, 4, 5}
```

Важно отметить, что если элемент, который нужно удалить, отсутствует в множестве, метод `remove` вызовет исключение `KeyError`. Если вы хотите избежать этого, вы можете использовать метод `discard`, который удаляет элемент из множества, если он присутствует, и ничего не делает, если элемента нет в множестве.

Вот пример использования метода `discard` в Python:

```python
# create a set
my_set = {1, 2, 3, 4, 5}

# discard an element from the set
my_set.discard(3)

print(my_set) # Output: {1, 2, 4, 5}

# try to discard an element that is not in the set
my_set.discard(10)

print(my_set) # Output: {1, 2, 4, 5}
```

## Доступ к Элементам Множества

Множества являются неупорядоченными коллекциями уникальных элементов. Поэтому они не поддерживают индексацию целочисленными значениями, как списки или кортежи.

Если вам нужно получить доступ к конкретному элементу в множестве, вы можете использовать ключевое слово `in` для проверки наличия элемента в множестве Python, или вы можете использовать цикл `for` для итерации по элементам множества.

Вот несколько примеров:

```python
# Creating a set
my_set = {1, 2, 3, 4, 5}

# Checking if an element exists in the set
if 3 in my_set:
    print("3 is in the set")

# Iterating over the elements of the set
for element in my_set:
    print(element)
```

Вывод:

```python
3 is in the set
1
2
3
4
5
```

## Длина Множества в Python

В Python вы можете использовать встроенную функцию `len()` для получения количества элементов в множестве.

Например, рассмотрим следующее множество:

```python
my_set = {1, 2, 3, 4, 5}
print(len(my_set)) # Output: 5
```

## Сортировка Множества в Python

Множества являются неупорядоченными коллекциями уникальных элементов, что означает, что порядок элементов не сохраняется в множестве, так что окончательный вывод не может быть отсортированным множеством.

В Python вы можете отсортировать множество, используя встроенную функцию `sorted()` или метод `sort()`. Таким образом, используя этот метод, мы преобразуем множество в список.

Использование функции `sorted()`:

```python
my_set = {4, 1, 3, 2, 5}
sorted_set = sorted(my_set)
print(sorted_set)   # Output: [1, 2, 3, 4, 5]
```
Когда `sorted()` применяется к множеству, она возвращает новый отсортированный список, содержащий все элементы исходного множества.

Использование метода `sort()`:

```python
my_set = {4, 1, 3, 2, 5}
sorted_list = list(my_set)
sorted_list.sort()
sorted_set = set(sorted_list)
print(sorted_set)   # Output: {1, 2, 3, 4, 5}
```

> Примечание: метод `sort()` доступен только для списков и не может быть использован напрямую с множеством. Поэтому вам нужно сначала преобразовать множество в список, затем использовать метод `sort()`, а затем преобразовать его обратно в множество.

В обоих случаях результирующее множество будет отсортировано по возрастанию. Если вы хотите отсортировать множество в порядке убывания, вы можете использовать аргумент `reverse=True` в функции `sorted()` или параметр reverse метода `sort()`.

```python
my_set = {4, 1, 3, 2, 5}
sorted_set_desc = sorted(my_set, reverse=True)
print(sorted_set_desc)   # Output: [5, 4, 3, 2, 1]

my_set = {4, 1, 3, 2, 5}
sorted_list_desc = list(my_set)
sorted_list_desc.sort(reverse=True)
sorted_set_desc = set(sorted_list_desc)
print(sorted_set_desc)   # Output: {5, 4, 3, 2, 1}
```

## Метод `update()` для Множества в Python

Метод `update()` множества позволяет добавлять в множество сразу несколько элементов.

Вот синтаксис использования метода update:

```python
set.update(iterable)
```

Аргумент `iterable` может быть любым итерируемым объектом, таким как список, кортеж, множество или даже строка. Метод `update` добавляет все элементы из `iterable` в множество, удаляя при этом любые дубликаты.

Вот пример, демонстрирующий метод update:

```python
>>> s1 = {1, 2, 3}
>>> s2 = {3, 4, 5}
>>> s1.update(s2)
>>> print(s1)
{1, 2, 3, 4, 5}
```

## Пересечение Множеств в Python

В Python пересечение множеств можно найти с использованием метода `intersection()`.

Давайте посмотрим, как получить пересечение двух множеств в Python:

```python
set1 = {1, 2, 3, 4}
set2 = {3, 4, 5, 6}
set3 = {4, 5, 6, 7}

intersection_set = set1.intersection(set2, set3)

print(intersection_set)  # Output: {4}
```

## Разность Множеств в Python

Разность множеств в Python можно найти, используя оператор "-" или метод `difference()`. Вот пример:

```python
set1 = {1, 2, 3, 4, 5}
set2 = {3, 4, 5, 6, 7}

# Using the "-" operator
diff = set1 - set2
print(diff) # Output: {1, 2}

# Using the `difference()` method
diff = set1.difference(set2)
print(diff) # Output: {1, 2}
```

## Объединение Множеств в Python

Объединение множеств в Python можно получить, используя метод `union()` или оператор трубы (`|`).

Вот пример использования метода `union()`:

```python
set1 = {1, 2, 3}
set2 = {2, 3, 4}
set3 = {3, 4, 5}

union_set = set1.union(set2, set3)
print(union_set)  # Output: {1, 2, 3, 4, 5}
```

В качестве альтернативы, мы можем использовать оператор трубы (`|`) для достижения того же результата:

```python
set1 = {1, 2, 3}
set2 = {2, 3, 4}
set3 = {3, 4, 5}

union_set = set1 | set2 | set3
print(union_set)  # Output: {1, 2, 3, 4, 5}
```

## Метод `pop()`

Метод `pop()` в типе данных множество (set) в Python удаляет и возвращает произвольный элемент из множества. Если множество пусто, вызывается ошибка `KeyError`.

Вот пример использования:

```python
my_set = {1, 2, 3, 4}
popped_element = my_set.pop()
print(popped_element)  # output: an arbitrary element from the set, e.g. 1
print(my_set)  # output: the remaining elements in the set, e.g. {2, 3, 4}
```
