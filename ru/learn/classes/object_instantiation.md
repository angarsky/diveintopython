> [!NOTE]
> Вы можете прочитать эту статью на сайте: https://diveintopython.org/ru/learn/classes/object-instantiation

Создание экземпляра объекта является фундаментальным понятием в объектно-ориентированном программировании, которое относится к процессу создания новых объектов из класса. Этот процесс включает в себя использование конструкторов, которые являются специальными методами, определяющими, как инициализируются новые объекты. В этой статье описывается, как создать экземпляр объекта в Python, и приводятся примеры того, как создать и использовать эти объекты в вашем коде.

## Изучение Конструкторов Классов Python

Конструктор класса в Python - это специальный метод, который выполняется, когда создается объект класса. Он используется для инициализации атрибутов класса. Метод конструктора в Python называется `__init__()` и он определен внутри класса.

### Как Создать Экземпляр Класса Python

Давайте рассмотрим, как создать экземпляр класса в Python.
Для этого мы должны выполнить создание экземпляра класса в Python, создав экземпляр класса, который вызывает его метод конструктора. Вот пример простого класса и как создать экземпляр объекта этого класса.

```python
class Recipe:
    def __init__(self, name, ingredients):
        self.name = name
        self.ingredients = ingredients

# Instantiate a Recipe object
my_recipe = Recipe("Spaghetti Bolognese", ["spaghetti", "tomato sauce", "ground beef"])

# Access the object's attributes
print("Recipe Name:", my_recipe.name)
print("Ingredients:", my_recipe.ingredients)
```

В приведенном выше примере, класс `Recipe` имеет конструктор, который устанавливает атрибуты `name` и `ingredients` для каждого нового объекта, который создается. Объект `my_recipe` создается с именем "Спагетти Болоньезе" и списком ингредиентов. Команды вывода выведут `Название Рецепта: Спагетти Болоньезе` и `Ингредиенты: ['спагетти', 'томатный соус', 'говяжий фарш']`.

## Наследование и Конструкторы в Python

В Python, конструкторы играют важную роль в наследовании классов, позволяя дочерним классам наследовать и расширять атрибуты и поведение от родительских классов.

### Основы Наследования Конструкторов

Дочерние классы наследуют конструктор своего родительского класса, что позволяет им повторно использовать логику инициализации от родителя. Например:

```python
class Vehicle:
    def __init__(self, make, model):
        self.make = make
        self.model = model

class Car(Vehicle):
    def __init__(self, make, model, year):
        super().__init__(make, model)
        self.year = year
```

В этом примере класс `Car` наследует от класса `Vehicle` и расширяет его атрибуты.

### Переопределение Конструктора

Дочерние классы также могут переопределять конструктор родительского класса для настройки инициализации:

```python
class Bike(Vehicle):
    def __init__(self, make, model, wheel_count):
        super().__init__(make, model)
        self.wheel_count = wheel_count
```

### Абстрактные Базовые Классы

Абстрактные базовые классы позволяют вам обеспечить соблюдение паттернов инициализации в иерархии классов. Пожалуйста, обратитесь к [странице абстрактных классов](/ru/learn/classes/abstract_class.md), чтобы прочесть больше.

## Погружение в Процесс Создания Объектов в Python

Создание объекта в Python означает создание экземпляра класса. Когда вы создаете экземпляр класса, вы инстанциируете объект. В Python процесс создания объектов включает их создание и инициализацию.

Чтобы создать экземпляр класса Python, вам нужно использовать метод конструктора, который является методом `__init__()`. Метод конструктора инициализирует атрибуты или свойства объекта.

```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

person1 = Person("John", 25)
print(person1.name)
print(person1.age)
```

В этом примере мы определили класс под названием `Person` с двумя атрибутами, `name` и `age`. Мы создали объект `person1` и передали два аргумента в метод конструктора. Наконец, мы вывели значения атрибутов имени и возраста.

```python
class Employee:
    def __init__(self, firstname, lastname, salary):
        self.firstname = firstname
        self.lastname = lastname
        self.salary = salary

    def get_fullname(self):
        return self.firstname + " " + self.lastname

employee1 = Employee("Jane", "Doe", 50000)
print(employee1.firstname)
print(employee1.get_fullname())
print(employee1.salary)
```

В этом примере мы определили класс под названием `Employee` с тремя атрибутами: `firstname`, `lastname` и `salary`. Мы создали объект `employee1` и передали три аргумента в метод конструктора. Наконец, мы напечатали значения атрибутов firstname, get_fullname() и salary.

В Python создание объектов является мощным и гибким способом создания объектов с конкретными поведениями и атрибутами.

## Инициализация Объектов с Помощью Метода `__init__()`

Метод `__init__()` используется в классах Python для инициализации вновь созданных объектов. Он автоматически вызывается, когда объект создается с использованием конструктора класса.

Вот пример класса с методом `__init__()`:

```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

p1 = Person("Alice", 25)
print(p1.name)  ### Output Alice

print(p1.age)  ### Output 25
```

В этом примере класс `Person` имеет метод `init`, который принимает два аргумента: `name` и `age`. Когда вы создаете новый объект `Person`, вы передаете значения для этих аргументов, и метод `__init__()` устанавливает соответствующие переменные экземпляра.

Вы также можете иметь необязательные или аргументы по умолчанию в методе `__init__()`:

```python
class Rectangle:
    def __init__(self, width=0, height=0):
        self.width = width
        self.height = height

r1 = Rectangle()
print(r1.width)  ### Output 0

print(r1.height)  ### Output 0

r2 = Rectangle(10, 20)
print(r2.width)  ### Output 10

print(r2.height)  ### Output 20
```

В этом примере класс `Rectangle` имеет метод `__init__()`, который принимает два необязательных аргумента: `width` и `height`. Если аргументы не предоставлены, используются значения по умолчанию `0`.

## Настройка Инициализации Объектов в Python

В Python метод `__init__()` вызывается, когда создается объект класса. Он используется для инициализации атрибутов объекта. Однако иногда нам может потребоваться настроить инициализацию объекта, указав собственные параметры. Это можно достичь с помощью следующих методов:

### Создание Класса Python Без `__init__()`

Один из способов настроить инициализацию объекта - определить собственный метод, который инициализирует атрибуты. Этот метод может принимать параметры, которые используются для установления значений атрибутов. Вот пример:

```python
class Car:
    def set_values(self, make, model, year):
        self.make = make
        self.model = model
        self.year = year

my_car = Car()
my_car.set_values('Toyota', 'Camry', 2022)
print(my_car.make)  # Output: Toyota
```

В этом примере мы определили пользовательский метод `set_values()` для инициализации атрибутов `make`, `model` и `year`. Затем мы вызвали этот метод на объекте класса `Car` для установки значений атрибутов.

### Создание Класса с `__init__()`

Другой способ настройки инициализации объекта - использовать атрибуты уровня класса. Эти атрибуты могут быть установлены в определении класса и использованы для инициализации атрибутов объекта. Вот пример:

```python
class Car:
    make = ''
    model = ''
    year = 0

    def __init__(self):
        self.make = Car.make
        self.model = Car.model
        self.year = Car.year

my_car = Car()
my_car.make = 'Toyota'
my_car.model = 'Camry'
my_car.year = 2022
print(my_car.make)  # Output: Toyota
```

В этом примере мы определили `make`, `model` и `year` как атрибуты уровня класса и установили для них значения по умолчанию в виде пустой строки и `0`. Затем мы использовали эти атрибуты для инициализации атрибутов объекта в методе `__init__()`. Позже мы можем изменить значения атрибутов объекта, как в предыдущем примере.

## Создание Объекта Класса Python с Гибкими Инициализаторами

Объектно-ориентированное программирование позволяет нам создавать объекты с различными свойствами. Мы можем инициализировать объект с фиксированными свойствами или гибкими свойствами, передавая различные аргументы в конструктор. В Python мы можем использовать метод `__init__()` для инициализации объекта с гибкими свойствами.

```python
class Rectangle:
    def __init__(self, width, height):
        self.width = width
        self.height = height

rect = Rectangle(5, 10)
print(rect.width)   # Output: 5
print(rect.height)  # Output: 10
```

В приведенном выше примере мы инициализировали объект `Rectangle` с фиксированными свойствами `width` и `height`. Объект, возвращенный конструктором, всегда будет иметь те же свойства.

```python
class Circle:
    def __init__(self, radius, color='red', border=None):
        self.radius = radius
        self.color = color
        self.border = border

circle = Circle(5)
print(circle.radius)  # Output: 5
print(circle.color)   # Output: red
print(circle.border)  # Output: None
```

В приведенном выше примере мы инициализировали объект `Circle` с гибкими свойствами `radius`, `color` и `border`. Мы передали только один аргумент `radius` в конструктор, но также указали значения по умолчанию для `color` и `border`. Это позволяет нам создать объект `Circle` только с одним аргументом, или с тремя аргументами, или с любым количеством аргументов между ними.

## Создание Объекта с Использованием Метода `__new__()`

Метод `__new__()` используется в Python для динамического создания объектов. Он позволяет разработчику создать объект класса, используя имя класса, а затем вы можете добавить атрибут после инициализации класса Python.

```python
class Person:
    pass

dave = Person.__new__(Person)
dave.name = "Dave"
dave.age = 25
```

В приведенном выше примере мы создаем класс под названием `Person` и затем используем метод .new() для создания объекта под названием `dave`. Затем мы добавляем атрибуты `name` и `age` к этому объекту после инициализации.

```python
class Car:
    def __init__(self, model, make):
        self.model = model
        self.make = make

car = Car.__new__(Car)
car.__init__("Corvette", "Chevrolet")
car.color = "red"
```

В этом примере мы создаём класс с названием `Car` и определяем его атрибуты во время инициализации с помощью `__init__()`. Затем мы создаём объект с названием `car`, используя метод `__new__()`, и инициализируем его атрибутами модели и производителя. В конце мы добавляем атрибут `color` к объекту `car` после его инициализации.
