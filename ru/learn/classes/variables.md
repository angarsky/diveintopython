> [!NOTE]
> Вы можете прочитать эту статью на сайте: https://diveintopython.org/ru/learn/classes/variables

Python - мощный язык, который поддерживает различные типы переменных и свойств. В этой статье мы обсудим переменные, атрибуты и свойства в Python, чтобы помочь вам лучше их понять.

## Понимание Переменных, Атрибутов и Свойств

- **Переменные:** Переменная - это имя, которое ссылается на значение. Переменные могут содержать объект любого типа.
- **Атрибуты:** Атрибут - это значение, связанное с объектом. Доступ к атрибутам можно получить с помощью точечной нотации.
- **Свойства:** Свойство - это способ определить метод как атрибут. Свойства создаются с использованием декоратора `@property`.

## Переменные Класса в Python

В Python переменные класса - мощный способ делиться данными между всеми экземплярами класса. Давайте рассмотрим, как создавать, доступать и изменять переменные класса.

### Создание Переменной Класса

Чтобы создать переменную класса в Python, просто объявите ее внутри класса, но вне любых методов. Переменные класса разделяются между всеми экземплярами класса и могут использоваться для хранения данных, общих для всех объектов, созданных из класса.

```python
class Team:
    # Creating a class variable
    team_name = "Python Developers"
```

В этом примере мы создаем переменную класса `team_name`, чтобы хранить имя команды.

### Доступ к Переменной Класса в Python

Чтобы получить доступ к переменной класса, вы можете использовать имя класса, за которым следует имя переменной, разделенные точкой. Это позволяет вам извлекать общие данные, которые применимы ко всем экземплярам класса.

```python
class Team:
    team_name = "Python Developers"

# Accessing the class variable using the class name
print("Team Name:", Team.team_name)  # Output: Team Name: Python Developers
```

В этом примере переменная класса `the team_name` доступна с использованием имени класса, `Team.team_name`.

### Изменение Значения Переменной Класса

Изменить значение переменной класса довольно просто. Вы используете имя класса для ссылки на переменную и присваиваете ей новое значение.

```python
class Team:
    team_name = "Python Developers"

# Modifying the value of the class variable
Team.team_name = "Advanced Python Developers"

# Accessing the modified value
print("Team Name:", Team.team_name)  # Output: Team Name: Advanced Python Developers
```

В этом примере мы изменили значение переменной класса `team_name`, присвоив ей новое значение с использованием имени класса. Обновленное значение также доступно через имя класса.

## Переменные Экземпляра в Python

В Python переменные экземпляра уникальны для каждого экземпляра класса. Они определяются в методах класса и специфичны для объекта, к которому они относятся. Давайте рассмотрим, как создать и присвоить значения переменным экземпляра.

### Создание Переменной Экземпляра

Чтобы создать переменную экземпляра в Python, вы можете определить ее внутри метода конструктора `__init__`. Конструктор - это специальный метод, который вызывается при создании объекта класса. Внутри конструктора вы можете инициализировать переменные экземпляра для объекта.

```python
class Person:
    def __init__(self, name, age):
        # Creating instance variables
        self.name = name
        self.age = age

# Creating an instance of the Person class
person = Person("Alice", 30)
```

В этом примере мы определяем две переменные экземпляра, name и `age`, в методе `__init__` класса `Person`. Эти переменные уникальны для каждого объекта `person`, созданного из класса.

### Присваивание Значений Переменной Экземпляра

Вы можете присвоить значения переменным экземпляра во время создания объекта, передав аргументы конструктору. Кроме того, вы можете изменять или обновлять значения переменных экземпляра в любое время после создания объекта.

```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

# Creating an instance of the Person class
person = Person("Alice", 30)

# Modifying the values of instance variables
person.name = "Bob"
person.age = 35
```

В этом примере мы сначала создаем объект `person` с начальными значениями для `name` и `age`. Позже мы изменяем значения этих переменных экземпляра, присваивая им новые значения напрямую.

Переменные экземпляра являются важной частью объектно-ориентированного программирования, поскольку они позволяют объектам иметь собственные данные и состояние. Эти переменные могут хранить информацию, специфичную для каждого объекта, что облегчает работу с различными экземплярами одного и того же класса.

## Атрибуты и Свойства Классов в Python

В Python атрибуты и свойства классов работают аналогично переменным, но они предлагают больше функциональности и контроля. Давайте углубимся в то, как определить и использовать атрибуты и свойства классов.

### Определение Атрибутов Класса

Атрибуты класса разделяются между всеми экземплярами класса. Они объявляются внутри класса, но вне любых методов. Доступ к атрибутам класса можно получить с использованием имени класса, и они особенно полезны для хранения данных, общих для всех объектов, созданных из класса.

```python
class Animal:
    # Defining a class attribute
    kingdom = "Animalia"
```

В этом примере мы определяем атрибут класса `kingdom`, чтобы хранить классификацию царства для всех животных. Атрибуты класса доступны с использованием имени класса, например, `Animal.kingdom`.

### Использование Свойств

Свойства в Python — это специальные методы, которые действуют как атрибуты. Они создаются с использованием декоратора `@property` для определения метода как атрибута, обеспечивая дополнительный функционал, такой как геттеры, сеттеры и удалители.

```python
class Circle:
    def __init__(self, radius):
        self._radius = radius

    @property
    def radius(self):
        return self._radius

    @radius.setter
    def radius(self, value):
        if value > 0:
            self._radius = value

# Creating an instance of the Circle class
circle = Circle(5)

# Accessing and modifying attributes using properties
print("Radius:", circle.radius)  # Output: Radius: 5
circle.radius = 7
print("Modified Radius:", circle.radius)  # Output: Modified Radius: 7
```

В этом примере мы используем свойства для контроля доступа к атрибуту `radius`. Декоратор `@property` определяет метод getter, а `@radius.setter` определяет метод setter.

Атрибуты и свойства классов в Python предлагают мощные способы улучшения поведения ваших классов и объектов. Они позволяют вам инкапсулировать данные и обеспечивать контролируемый доступ к атрибутам, делая ваш код более надежным и удобным для обслуживания.

## Приватные Переменные в Классах Python

В Python приватные переменные — это атрибуты или свойства, которые предназначены для использования только внутри класса и не должны быть доступны или модифицированы снаружи класса. Они обозначаются добавлением двойного подчеркивания `__` перед именем переменной или свойства.

### Определение Приватных Переменных

Чтобы определить приватную переменную в Python, вы можете использовать префикс с двойным подчеркиванием `__` перед именем переменной. Это указывает на то, что переменная не должна быть доступна или модифицирована снаружи класса.

```python
class MyClass:
    def __init__(self, public_value, private_value):
        self.public_value = public_value
        self.__private_value = private_value

# Creating an instance of the MyClass class
obj1 = MyClass(5, 10)
```

В этом примере мы определяем приватную переменную `__private_value` внутри класса `MyClass`. Она предназначена для использования только внутри класса.

### Доступ к Приватным Переменным

Приватные переменные могут быть доступны только изнутри самого класса. Попытка доступа к ним со стороны вне класса приведет к AttributeError. Однако доступ к ним все еще можно получить, используя методы класса или свойства.

```python
class MyClass:
    def __init__(self, public_value, private_value):
        self.public_value = public_value
        self.__private_value = private_value

    def get_private_value(self):
        return self.__private_value

# Creating an instance of the MyClass class
obj1 = MyClass(5, 10)

# Accessing private variable using a class method
private_value = obj1.get_private_value()
```

В этом примере мы создаём метод `get_private_value` внутри класса для доступа к приватной переменной `__private_value`.

Приватные переменные ценны для инкапсуляции данных и обеспечения их защиты от непреднамеренного изменения из внешнего кода. Они помогают поддерживать целостность вашего класса и его данных.

## Глобальные Переменные Python

В Python глобальные переменные — это переменные, которые могут быть доступны из любой части программы, будь то внутри функции, класса или любого другого контекста. Глобальные переменные определяются вне любой функции или класса, делая их доступными везде.

### Определение Глобальных Переменных

Чтобы определить глобальную переменную в Python, вы просто объявляете её вне любой функции или класса. Это позволяет переменной быть доступной и изменяемой из любого места в коде.

```python
global_var = 10
```

В этом примере мы определяем глобальную переменную `global_var` со значением `10`. Эту переменную можно получить доступ и изменить из любого места программы.

### Использование Глобальных Переменных

Глобальные переменные могут использоваться в функциях, классах или любом другом контексте без необходимости специальных объявлений. Вы можете получать доступ и изменять глобальные переменные непосредственно из этих контекстов.

```python
global_var = 10

class MyClass:
    def __init__(self):
        self.instance_var = global_var

# Creating an instance of the MyClass class
obj = MyClass()

# Accessing the global variable from within the class
print(obj.instance_var)  # Output: 10
```

В этом примере глобальная переменная `global_var` доступна и присваивается к переменной экземпляра внутри класса `MyClass`.

### Изменение Глобальных Переменных

Изменение значения глобальной переменной просто. Вы можете получить доступ к ней и обновить её значение из любой части программы.

```python
global_var = 10

def modify_global_variable():
    global global_var
    global_var = 20

# Modifying the global variable
modify_global_variable()

# Accessing the modified global variable
print(global_var)  # Output: 20
```

В этом примере мы создаем функцию `modify_global_variable`, которая использует ключевое слово `global` для изменения значения глобальной переменной `global_var`. Это изменение отражается при доступе к переменной вне функции.

Глобальные переменные Python полезны для обмена данными, которые необходимо доступны в разных частях вашей программы. Однако важно использовать их с умом, поскольку чрезмерное использование глобальных переменных может сделать код более сложным для поддержки и понимания.

## Проверка Наличия Атрибута у Класса

В Python вы можете проверить, имеет ли класс конкретный атрибут, используя встроенную функцию `hasattr()`. Эта функция позволяет вам определить, имеет ли класс конкретный атрибут, делая ее ценным инструментом для динамической проверки атрибутов.

### Использование `hasattr()`

Чтобы использовать `hasattr()`, предоставьте объект (в данном случае класс или экземпляр класса) и имя атрибута в качестве аргументов. Функция возвращает булево значение, указывающее на существование атрибута в классе.

```python
class MyClass:
    var = 10

obj = MyClass()

# Checking if the class has an attribute
if hasattr(obj, 'var'):
    print('Object has var attribute')
else:
    print('Object does not have var attribute')
```

В этом примере мы определяем класс `MyClass` с атрибутом `var`. Используя `hasattr()`, мы проверяем, имеет ли экземпляр `obj` атрибут `var`.

### Обработка Существования Атрибута

`hasattr()` помогает вам писать более надежный код, позволяя проверять наличие атрибутов перед их доступом или изменением. Это может предотвратить неожиданные ошибки в вашей программе.

```python
class MyClass:
    var = 10

obj = MyClass()

# Checking if the class has an attribute
if hasattr(obj, 'var'):
    # Accessing the attribute
    value = getattr(obj, 'var')
    print(f'Attribute var exists with value: {value}')
else:
    print('Object does not have var attribute')
```

В этом расширенном примере, если `hasattr()` подтверждает, что атрибут `var` существует, мы используем `getattr()` для безопасного доступа к значению атрибута.

Использование `hasattr()` может повысить надежность вашего кода и улучшить обработку ошибок при работе с динамическими атрибутами в классах Python. Это полезная техника для проверки атрибутов.

## Печать и Извлечение Атрибутов Класса в Python

В Python вы можете захотеть перечислить и получить доступ ко всем атрибутам класса. Нет встроенного метода для печати всех атрибутов, но вы можете использовать цикл и функцию dir() для достижения этого. Давайте рассмотрим, как печатать и извлекать атрибуты класса.

### Использование `dir()`

Функция `dir()` в Python возвращает список всех атрибутов объекта. Хотя это включает в себя внутренние атрибуты и методы, вы можете отфильтровать их, чтобы получить список атрибутов класса.

```python
class MyClass:
    var1 = 10
    var2 = 'hello'
    var3 = True

# List of all attributes (including internal ones)
attributes = dir(MyClass)

# Filtering and printing only class attributes
for attr in attributes:
    if not attr.startswith('__'):
        value = getattr(MyClass, attr)
        print(f'{attr}: {value}')
```

В этом примере мы используем `dir(MyClass)`, чтобы получить список всех атрибутов. Затем мы фильтруем внутренние атрибуты и выводим имена и значения атрибутов класса.

Этот метод позволяет вам получить обзор атрибутов в классе.

### Использование `vars()`

Хотя `vars()` чаще всего используется для доступа к переменным экземпляра, его также можно применять к классам. Он возвращает атрибут `__dict__` объекта, который содержит атрибуты класса.

```python
class MyClass:
    var1 = 10
    var2 = 'hello'
    var3 = True

# Using vars() to retrieve class attributes
class_attrs = vars(MyClass)

for attr, value in class_attrs.items():
    print(f'{attr}: {value}')
```

В этом примере мы используем `vars(MyClass)`, чтобы получить атрибуты класса и вывести их имена и значения.

Оба метода `dir()` и `vars()` предоставляют способы доступа и отображения атрибутов класса, позволяя вам лучше понять и работать с вашими классами.

## Приватные Переменные Класса

В Python приватные переменные класса - это переменные, которые предназначены для использования только внутри класса и не должны быть доступны или изменены извне класса. Эти переменные обозначаются сдвоенным подчёркиванием в префиксе `__`. Давайте рассмотрим, как создать и работать с приватными переменными класса.

### Создание Приватных Переменных Класса

Чтобы создать приватную переменную класса в Python, добавьте двойное подчёркивание `__` перед именем переменной внутри класса. Эта конвенция указывает на то, что к переменной не следует обращаться напрямую извне класса.

```python
class MyClass:
    __private_var = 10
```

В этом примере мы создаем закрытую переменную класса `__private_var`.

### Доступ к Закрытым Переменным Класса

Попытка доступа к закрытой переменной класса извне класса приведет к AttributeError. Закрытые переменные предназначены для использования только внутри класса для инкапсуляции данных.

```python
class MyClass:
    __private_var = 10

    def get_private_var(self):
        return self.__private_var

obj = MyClass()

# Accessing the private variable using a class method
print(obj.get_private_var())  # Output: 10
```

В этом примере мы определяем метод `get_private_var` внутри класса для доступа к приватной переменной `__private_var`.

### Роль Приватных Переменных Класса

Приватные переменные играют ключевую роль в инкапсуляции данных и поддержании целостности внутреннего состояния класса. Они предотвращают неумышленное изменение или доступ к чувствительным данным внутри класса со стороны внешнего кода.

```python
class BankAccount:
    def __init__(self, account_number, balance):
        self.__account_number = account_number
        self.__balance = balance

    def withdraw(self, amount):
        if amount > 0 and amount <= self.__balance:
            self.__balance -= amount
        else:
            print("Invalid withdrawal amount")

# Creating an instance of the BankAccount class
account = BankAccount("123456789", 1000)

# Attempting to directly access private variables (results in AttributeError)
# print(account.__account_number)
# print(account.__balance)

# Performing a withdrawal using a class method
account.withdraw(500)
```

В этом примере класс `BankAccount` определяет приватные переменные `__account_number` и `__balance` для инкапсуляции конфиденциальных данных счета. Эти приватные переменные доступны и изменяются с помощью методов класса, таких как `withdraw`.

Приватные переменные являются фундаментальным аспектом инкапсуляции данных и контроля доступа в объектно-ориентированном программировании, обеспечивая сохранение целостности данных класса.

## Глобальные Переменные Класса в Python

В Python глобальные переменные класса - это переменные, доступные из любой части программы. Они определяются вне любой функции или класса, что делает их доступными глобально. Давайте рассмотрим, как создавать и работать с глобальными переменными класса.

### Создание Глобальных Переменных Класса

Чтобы создать глобальную переменную класса в Python, определите переменную вне любой функции или класса. Глобальные переменные доступны во всех частях вашей программы.

```python
global_var = 10
```

В этом примере мы создаём глобальную переменную класса `global_var`.

### Доступ к Глобальным Переменным Класса

Глобальные переменные класса могут быть доступны и использоваться из любой части вашей программы, включая классы и функции.

```python
global_var = 10

class MyClass:
    def __init__(self):
        self.instance_var = global_var

obj = MyClass()

# Accessing the class global variable from within a class
print(obj.instance_var)  # Output: 10
```

В этом примере мы определяем глобальную переменную класса `global_var` и получаем к ней доступ изнутри класса `MyClass`.

### Роль Глобальных Переменных Класса

Глобальные переменные класса предоставляют способ обмена данными между различными частями вашей программы. Часто их используют для хранения информации, которая актуальна для всего приложения.

```python
user_name = "John"

class User:
    def __init__(self, name):
        self.name = name

# Accessing the class global variable from within a class
new_user = User(user_name)
print(new_user.name)  # Output: John
```

В этом примере глобальная переменная класса `user_name` хранит имя пользователя и доступна внутри класса `User`.

Глобальные переменные класса играют значительную роль в предоставлении данных в различных частях вашей программы, позволяя вам делиться информацией и поддерживать консистенцию по всей вашей кодовой базе.

## Публичные, Защищенные и Приватные Атрибуты и Свойства в Python

В Python атрибуты и свойства могут иметь разные уровни видимости и контроля доступа на основе соглашений об именовании. Эти уровни включают публичные, защищенные и приватные.

### Публичные Атрибуты и Свойства

Публичные атрибуты и свойства не имеют ограничений на имена. Они доступны из любого места в вашем коде, как внутри, так и вне класса. По умолчанию, если атрибут или свойство не имеет имени с префиксом двойного подчеркивания, оно считается публичным.

```python
class Person:
    def __init__(self, name):
        self.name = name  # Public attribute

class Circle:
    def __init__(self, radius):
        self.radius = radius  # Public attribute

class MyClass:
    def __init__(self, value):
        self.value = value  # Public attribute

# Accessing public attributes and properties
person = Person("Alice")
print(person.name)  # Output: Alice

circle = Circle(5)
print(circle.radius)  # Output: 5

obj = MyClass(42)
print(obj.value)  # Output: 42
```

В приведенных выше примерах атрибуты, такие как `name`, `radius` и `value`, являются публичными и могут быть доступны извне классов.

### Защищённые Атрибуты и Свойства

В Python атрибуты и свойства могут быть помечены как защищённые, если перед их именами стоит одно подчёркивание. Это соглашение о наименовании предполагает, что к этим атрибутам не следует обращаться напрямую извне класса, хотя доступ к ним всё еще возможен.

```python
class Employee:
    def __init__(self, name, _salary):
        self.name = name
        self._salary = _salary  # Protected attribute

    def _get_salary(self):
        return self._salary  # Protected method

# Accessing protected attributes and methods
employee = Employee("Bob", 50000)
print(employee._salary)  # Output: 50000
print(employee._get_salary())  # Output: 50000
```

В классе `Employee`, `_salary` отмечено как защищенный атрибут. Хотя оно доступно, одиночное подчеркивание указывает на то, что к нему не следует обращаться напрямую.

### Приватные Атрибуты и Свойства

Атрибуты и свойства могут быть сделаны приватными в Python, добавлением двойного подчеркивания перед их именами. Эта система именования подразумевает, что к этим атрибутам не следует обращаться напрямую извне класса. Попытка сделать это приведет к преобразованию искажения имени.

```python
class BankAccount:
    def __init__(self, account_number, __balance):
        self.account_number = account_number
        self.__balance = __balance  # Private attribute

    def __get_balance(self):
        return self.__balance  # Private method

# Attempting to access private attributes and methods
account = BankAccount("123456789", 1000)

# Results in an AttributeError
# print(account.__balance)
# print(account.__get_balance())
```

В классе `BankAccount`, `__balance` является приватным атрибутом, а `__get_balance` - приватным методом. Попытка доступа к ним извне класса приводит к AttributeError.
